{"version":3,"sources":["rules.ts","stats/weapons/nonHeavyRangedWeapons.ts","stats/weapons/heavyRangedWeapons.ts","stats/weapons/meleeWeapons.ts","stats/weapons/pistols.ts","stats/weapons.ts","helpers.ts","stats/factions/adeptusAstartes.ts","stats/factions/hereticAstartes.ts","calculation.ts","stats/factions/forgeWorld.ts","stats/factions/broodCoven.ts","App.tsx","reportWebVitals.js","index.tsx"],"names":["specialRules","STORM_SHIELD","label","NO_COVER","AP1","AP2","RELENTLESS","CEASELESS","HEAVY","BLAST1","BLAST2","TORRENT","FUSILLADE","RNG3","RNG6","GRAV","LETHAL4","LETHAL5","COMBI","LIMITED","BRUTAL","HOT","UNWIELDY","BALANCED","criticalRules","RENDING","P1","MW2","MW3","MW4","STUN","nonHeavyRangedWeapons","name","profile","attackDice","damage","damageCritical","equipment","type","weaponBallisticSkillAdjustment","fixedWeaponBallisticSkill","heavyRangedWeapons","meleeWeapons","pistols","weapons","getProfiles","options","modifiedSkill","filter","weapon","map","profiles","adeptusAstartesStats","fireTeams","dataSheets","movement","apl","groupActivation","defense","save","saveCritical","wounds","ballisticSkill","weaponSkill","hereticAstartesEquipment","GRISLY_TROPHY","DARK_BLESSING","hereticAstartesStats","reduce","acc","equippedProfiles","eq","newEquipment","oneDiceChanceOfSuccess","successFrom","critFrom","chanceOfSuccess","chanceOfCrit","oneDiceChanceOfMiss","oneDiceChanceOfCrit","calculateDamage","defenseProfile","attackProfile","calculateDamageMelee","rolledDefenseDice","ballisticSkillCritical","includes","Math","max","weaponBallisticSkill","adjustedballisticSkill","expectedHits","expectedCriticalHits","chanceOfMiss","min","chanceOfAtLeastOneCrit","chanceOfSave","chanceOfSaveCritical","expectedSaves","expectedCriticalSaves","chanceOfNoCrit","expectedNaturalOnes","expectedMisses","expectedHitDamage","expectedCritDamage","mw","expectedMortalWounds","total","toFixed","hit","crit","calculateDamageRanged","getAttackerAttackDice","calculateMeleeBlowByBlow","attackerWeaponProfile","attackerHits","attackerCrits","attackerStrategy","defenderWeaponProfile","defenderHits","defenderCrits","defenderStrategy","aCrits","aHits","aWounds","aDamage","dCrits","dHits","dWounds","dDamage","attackerInitiative","counter","resolveDie","attackerDamage","defenderDamage","attackerDead","defenderDead","finalStats","attackerWeapon","attackerWeaponSkill","attackerWeaponSkillCritical","attackerAdjustedWeaponSkill","attackerHitsPerDie","attackerCritsPerDie","attackerAttackDice","attackerExpectedCriticalHitsMax1","defenseWeaponSkillCritical","defensiveWeapon","defenderHitsPerDie","defenderCritsPerDie","defenderAttackDice","defenderExpectedCriticalHitsMax1","calculateMeleeBasics","maxDamageOutput","parryDefenderOutput","parryAttackerOutput","maxDamage","parryDefender","parryAttacker","forgeWorldStats","broodCovenStats","factions","custodesProfile","meqProfile","geqProfile","formatMeleeDamage","d","style","display","flexWrap","width","flex","flexBasis","color","marginLeft","generateWeaponRow","isProfile","nextIsProfile","backgroundColor","geqDamage","meqDamage","custodesDamage","styles","borderBottomWidth","neededSkill","TableRow","TableCell","rule","join","TabPanel","props","children","value","index","other","role","hidden","id","Box","p","App","useState","setValue","lvl2Value","setLvl2Value","handleChangeLvl2","event","newValue","sx","borderBottom","borderColor","Tabs","onChange","faction","Tab","fireTeam","fireTeamIndex","dataSheet","rowColor","switchRowColor","rangedWeapons","TableContainer","component","Paper","margin","Table","size","TableHead","colSpan","Typography","variant","fontWeight","length","TableBody","sameNameAsPrevious","sameNameAsNext","generateStatBlock","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c53c89d2.chunk.js","sourcesContent":["export interface Rule {\r\n  label: string\r\n  amount?: number\r\n}\r\nexport interface Rules {\r\n  [x: string]: Rule\r\n}\r\n\r\nexport const specialRules = {\r\n  STORM_SHIELD: {\r\n    label: 'Storm Shield',\r\n  },\r\n  NO_COVER: {\r\n    label: 'No Cover',\r\n  },\r\n  AP1: {\r\n    label: 'AP1',\r\n  },\r\n  AP2: {\r\n    label: 'AP2',\r\n  },\r\n  RELENTLESS: {\r\n    label: 'Relentless',\r\n  },\r\n  CEASELESS: {\r\n    label: 'Ceaseless',\r\n  },\r\n  HEAVY: {\r\n    label: 'Heavy',\r\n  },\r\n  BLAST1: {\r\n    label: 'Blast 1\"',\r\n  },\r\n  BLAST2: {\r\n    label: 'Blast 2\"',\r\n  },\r\n  TORRENT: {\r\n    label: 'Torrent',\r\n  },\r\n  FUSILLADE: {\r\n    label: 'Fusillade',\r\n  },\r\n  RNG3: {\r\n    label: 'Rng 3\"',\r\n  },\r\n  RNG6: {\r\n    label: 'Rng 6\"',\r\n  },\r\n  GRAV: {\r\n    label: 'Grav',\r\n  },\r\n  LETHAL4: {\r\n    label: 'Lethal 4+',\r\n  },\r\n  LETHAL5: {\r\n    label: 'Lethal 5+',\r\n  },\r\n  COMBI: {\r\n    label: 'Combi',\r\n  },\r\n  LIMITED: {\r\n    label: 'Limited',\r\n  },\r\n  BRUTAL: {\r\n    label: 'Brutal',\r\n  },\r\n  HOT: {\r\n    label: 'Hot',\r\n  },\r\n  UNWIELDY: {\r\n    label: 'Unwieldy',\r\n  },\r\n  BALANCED: {\r\n    label: 'Balanced',\r\n  },\r\n}\r\n\r\nexport const criticalRules = {\r\n  RENDING: {\r\n    label: 'Rending',\r\n  },\r\n  P1: {\r\n    label: 'P1',\r\n  },\r\n  MW2: {\r\n    label: 'MW2',\r\n  },\r\n  MW3: {\r\n    label: 'MW3',\r\n  },\r\n  MW4: {\r\n    label: 'MW4',\r\n  },\r\n  STUN: {\r\n    label: 'Stun',\r\n  },\r\n}\r\n","import { specialRules, criticalRules } from '../../rules'\r\nimport { Weapon } from '../weapons'\r\n\r\nexport const nonHeavyRangedWeapons: Weapon[] = [\r\n  {\r\n    name: 'Autogun',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 2,\r\n    damageCritical: 3,\r\n    specialRules: [],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Shotgun',\r\n    profile: '',\r\n    attackDice: 4,\r\n    weaponBallisticSkillAdjustment: -1,\r\n    damage: 3,\r\n    damageCritical: 3,\r\n    specialRules: [specialRules.RNG6],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Deathwatch Boltgun',\r\n    profile: 'Dragonfire',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [specialRules.NO_COVER],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Deathwatch Boltgun',\r\n    profile: 'Hellfire',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [],\r\n    criticalRules: [criticalRules.RENDING],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Deathwatch Boltgun',\r\n    profile: 'Kraken',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [],\r\n    criticalRules: [criticalRules.P1],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Deathwatch Boltgun',\r\n    profile: 'Vengeance',\r\n    attackDice: 4,\r\n    damage: 4,\r\n    damageCritical: 4,\r\n    specialRules: [],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Deathwatch Shotgun',\r\n    profile: 'Cryptclearer',\r\n    attackDice: 4,\r\n    damage: 4,\r\n    damageCritical: 4,\r\n    specialRules: [],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Deathwatch Shotgun',\r\n    profile: 'Wyrmsbreath',\r\n    attackDice: 5,\r\n    weaponBallisticSkillAdjustment: -1,\r\n    damage: 2,\r\n    damageCritical: 2,\r\n    specialRules: [specialRules.RNG3, specialRules.TORRENT],\r\n    criticalRules: [criticalRules.P1],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Deathwatch Shotgun',\r\n    profile: 'Xenopurge',\r\n    attackDice: 4,\r\n    weaponBallisticSkillAdjustment: -1,\r\n    damage: 3,\r\n    damageCritical: 5,\r\n    specialRules: [specialRules.RNG6],\r\n    criticalRules: [criticalRules.P1],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Storm bolter',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [specialRules.RELENTLESS],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Frag Cannon',\r\n    profile: 'Frag',\r\n    attackDice: 4,\r\n    damage: 4,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.BLAST2],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Frag Cannon',\r\n    profile: 'Shell',\r\n    attackDice: 4,\r\n    damage: 5,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.AP1],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Auto bolt rifle',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [specialRules.CEASELESS],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Boltgun (CSM)',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Boltgun (CSM)',\r\n    profile: 'Belt Feed',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [specialRules.CEASELESS],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Boltgun (CSM)',\r\n    profile: 'Malefic Rounds',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [],\r\n    criticalRules: [criticalRules.P1],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Grenade launcher',\r\n    profile: 'Frag',\r\n    attackDice: 4,\r\n    damage: 2,\r\n    damageCritical: 4,\r\n    specialRules: [specialRules.BLAST2],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Grenade launcher',\r\n    profile: 'Krak',\r\n    attackDice: 4,\r\n    damage: 4,\r\n    damageCritical: 5,\r\n    specialRules: [specialRules.AP1],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Webber',\r\n    profile: '',\r\n    attackDice: 4,\r\n    weaponBallisticSkillAdjustment: -1,\r\n    damage: 2,\r\n    damageCritical: 2,\r\n    specialRules: [specialRules.RNG6, specialRules.LETHAL5],\r\n    criticalRules: [criticalRules.STUN],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Flamer',\r\n    profile: '',\r\n    attackDice: 5,\r\n    fixedWeaponBallisticSkill: 2,\r\n    damage: 2,\r\n    damageCritical: 2,\r\n    specialRules: [specialRules.RNG6, specialRules.TORRENT],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Grav-gun',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 4,\r\n    damageCritical: 5,\r\n    specialRules: [specialRules.AP1, specialRules.GRAV],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Meltagun',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 6,\r\n    damageCritical: 3,\r\n    specialRules: [specialRules.RNG6, specialRules.AP2],\r\n    criticalRules: [criticalRules.MW4],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Plasma gun',\r\n    profile: 'Standard',\r\n    attackDice: 4,\r\n    damage: 5,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.AP1],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Plasma gun',\r\n    profile: 'Supercharge',\r\n    attackDice: 4,\r\n    damage: 5,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.AP2],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Combi-flamer',\r\n    profile: '',\r\n    attackDice: 5,\r\n    fixedWeaponBallisticSkill: 2,\r\n    damage: 2,\r\n    damageCritical: 2,\r\n    specialRules: [specialRules.COMBI, specialRules.RNG6, specialRules.TORRENT, specialRules.LIMITED],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Combi-grav',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 4,\r\n    damageCritical: 5,\r\n    specialRules: [specialRules.COMBI, specialRules.AP1, specialRules.GRAV, specialRules.LIMITED],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Combi-melta',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 6,\r\n    damageCritical: 3,\r\n    specialRules: [specialRules.COMBI, specialRules.RNG6, specialRules.AP2, specialRules.LIMITED],\r\n    criticalRules: [criticalRules.MW4],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Combi-plasma',\r\n    profile: 'Standard',\r\n    attackDice: 4,\r\n    damage: 5,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.COMBI, specialRules.AP1, specialRules.LIMITED],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Combi-plasma',\r\n    profile: 'Supercharge',\r\n    attackDice: 4,\r\n    damage: 5,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.COMBI, specialRules.AP2, specialRules.LIMITED],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Hand flamer',\r\n    profile: '',\r\n    attackDice: 4,\r\n    fixedWeaponBallisticSkill: 2,\r\n    damage: 2,\r\n    damageCritical: 2,\r\n    specialRules: [specialRules.RNG6, specialRules.TORRENT],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Plasma caliver',\r\n    profile: 'Standard',\r\n    attackDice: 4,\r\n    damage: 5,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.AP1],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Plasma caliver',\r\n    profile: 'Supercharge',\r\n    attackDice: 4,\r\n    damage: 5,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.AP2, specialRules.HOT],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Arc rifle',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 4,\r\n    damageCritical: 5,\r\n    specialRules: [specialRules.AP1],\r\n    criticalRules: [criticalRules.STUN],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Radium carbine',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 2,\r\n    damageCritical: 3,\r\n    specialRules: [],\r\n    criticalRules: [criticalRules.RENDING],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Flechette blaster',\r\n    profile: '',\r\n    attackDice: 5,\r\n    damage: 2,\r\n    damageCritical: 3,\r\n    specialRules: [specialRules.RELENTLESS, specialRules.FUSILLADE, specialRules.RNG6],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Stubcarbine',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [specialRules.CEASELESS],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Lash whip',\r\n    profile: '',\r\n    attackDice: 4,\r\n    weaponBallisticSkillAdjustment: -1,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [specialRules.RNG3],\r\n    criticalRules: [criticalRules.STUN],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n]\r\n","import { specialRules, criticalRules } from '../../rules'\r\nimport { Weapon } from '../weapons'\r\n\r\nexport const heavyRangedWeapons: Weapon[] = [\r\n  {\r\n    name: 'Stalker pattern boltgun',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [specialRules.HEAVY, specialRules.AP1],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Heavy Bolter',\r\n    profile: '',\r\n    attackDice: 5,\r\n    damage: 4,\r\n    damageCritical: 5,\r\n    specialRules: [specialRules.HEAVY, specialRules.FUSILLADE],\r\n    criticalRules: [criticalRules.P1],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Heavy Bolter (CSM)',\r\n    profile: '',\r\n    attackDice: 5,\r\n    damage: 4,\r\n    damageCritical: 5,\r\n    specialRules: [specialRules.HEAVY, specialRules.FUSILLADE],\r\n    criticalRules: [criticalRules.P1],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Heavy Bolter (CSM)',\r\n    profile: 'Malefic Rounds',\r\n    attackDice: 5,\r\n    damage: 4,\r\n    damageCritical: 5,\r\n    specialRules: [specialRules.HEAVY, specialRules.FUSILLADE, specialRules.AP1],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Heavy Bolter (CSM)',\r\n    profile: 'Belt Feed',\r\n    attackDice: 5,\r\n    damage: 4,\r\n    damageCritical: 5,\r\n    specialRules: [specialRules.HEAVY, specialRules.FUSILLADE, specialRules.CEASELESS],\r\n    criticalRules: [criticalRules.P1],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Infernus Heavy Bolter',\r\n    profile: 'Heavy Bolter',\r\n    attackDice: 5,\r\n    damage: 4,\r\n    damageCritical: 5,\r\n    specialRules: [specialRules.HEAVY, specialRules.FUSILLADE],\r\n    criticalRules: [criticalRules.P1],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Infernus Heavy Bolter',\r\n    profile: 'Heavy Flamer',\r\n    attackDice: 6,\r\n    fixedWeaponBallisticSkill: 2,\r\n    damage: 2,\r\n    damageCritical: 2,\r\n    specialRules: [specialRules.HEAVY, specialRules.RNG6, specialRules.TORRENT],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Missile Launcher',\r\n    profile: 'Frag',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 5,\r\n    specialRules: [specialRules.HEAVY, specialRules.BLAST2],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Missile Launcher',\r\n    profile: 'Krak',\r\n    attackDice: 4,\r\n    damage: 5,\r\n    damageCritical: 7,\r\n    specialRules: [specialRules.HEAVY, specialRules.AP1],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Heavy stubber',\r\n    profile: '',\r\n    attackDice: 5,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [specialRules.HEAVY, specialRules.CEASELESS, specialRules.FUSILLADE],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Mining laser',\r\n    profile: '',\r\n    attackDice: 5,\r\n    damage: 5,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.HEAVY, specialRules.AP1],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Seismic cannon',\r\n    profile: 'Long-wave',\r\n    attackDice: 6,\r\n    damage: 2,\r\n    damageCritical: 2,\r\n    specialRules: [specialRules.HEAVY, specialRules.BLAST2],\r\n    criticalRules: [criticalRules.STUN],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Seismic cannon',\r\n    profile: 'Short-wave',\r\n    attackDice: 4,\r\n    weaponBallisticSkillAdjustment: -1,\r\n    damage: 4,\r\n    damageCritical: 4,\r\n    specialRules: [specialRules.HEAVY, specialRules.RNG6],\r\n    criticalRules: [criticalRules.STUN, criticalRules.P1],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Galvanic rifle',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [specialRules.HEAVY],\r\n    criticalRules: [criticalRules.P1],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Transuranic arquebus',\r\n    profile: '',\r\n    attackDice: 4,\r\n    weaponBallisticSkillAdjustment: -1,\r\n    damage: 5,\r\n    damageCritical: 4,\r\n    specialRules: [specialRules.AP1, specialRules.HEAVY, specialRules.UNWIELDY],\r\n    criticalRules: [criticalRules.MW2],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n]\r\n","import { specialRules, criticalRules } from '../../rules'\r\nimport { Weapon } from '../weapons'\r\n\r\nexport const meleeWeapons: Weapon[] = [\r\n  {\r\n    name: 'Xenophase blade',\r\n    profile: '',\r\n    attackDice: 5,\r\n    damage: 4,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.BRUTAL, specialRules.LETHAL5],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Xenophase blade',\r\n    profile: '+ storm shield',\r\n    attackDice: 5,\r\n    damage: 4,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.BRUTAL, specialRules.LETHAL5, specialRules.STORM_SHIELD],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Fists',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Gun butt',\r\n    profile: '',\r\n    attackDice: 3,\r\n    damage: 2,\r\n    damageCritical: 3,\r\n    specialRules: [],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Arc maul',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 4,\r\n    damageCritical: 5,\r\n    specialRules: [],\r\n    criticalRules: [criticalRules.STUN],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Taser goad',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [specialRules.LETHAL5],\r\n    criticalRules: [criticalRules.STUN],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Chainsword',\r\n    profile: '',\r\n    attackDice: 5,\r\n    damage: 4,\r\n    damageCritical: 5,\r\n    specialRules: [],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Heavy thunder hammer',\r\n    profile: '',\r\n    attackDice: 5,\r\n    weaponBallisticSkillAdjustment: 1,\r\n    damage: 6,\r\n    damageCritical: 8,\r\n    specialRules: [],\r\n    criticalRules: [criticalRules.STUN],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Lightning claw',\r\n    profile: '',\r\n    attackDice: 5,\r\n    damage: 4,\r\n    damageCritical: 5,\r\n    specialRules: [specialRules.LETHAL5],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Lightning claws',\r\n    profile: '',\r\n    attackDice: 5,\r\n    damage: 6,\r\n    damageCritical: 8,\r\n    specialRules: [specialRules.LETHAL5, specialRules.RELENTLESS],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Power fist',\r\n    profile: '',\r\n    attackDice: 5,\r\n    weaponBallisticSkillAdjustment: 1,\r\n    damage: 5,\r\n    damageCritical: 7,\r\n    specialRules: [specialRules.BRUTAL],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Power maul',\r\n    profile: '',\r\n    attackDice: 5,\r\n    damage: 4,\r\n    damageCritical: 5,\r\n    specialRules: [],\r\n    criticalRules: [criticalRules.STUN],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Power pick',\r\n    profile: '',\r\n    attackDice: 5,\r\n    damage: 4,\r\n    damageCritical: 6,\r\n    specialRules: [],\r\n    criticalRules: [criticalRules.RENDING],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Power weapon',\r\n    profile: '',\r\n    attackDice: 5,\r\n    damage: 4,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.LETHAL5],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Thunder hammer',\r\n    profile: '',\r\n    attackDice: 5,\r\n    weaponBallisticSkillAdjustment: 1,\r\n    damage: 5,\r\n    damageCritical: 6,\r\n    specialRules: [],\r\n    criticalRules: [criticalRules.STUN],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Chordclaw and transonic razor',\r\n    profile: '',\r\n    attackDice: 5,\r\n    damage: 4,\r\n    damageCritical: 5,\r\n    specialRules: [specialRules.BALANCED],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Transonic blades',\r\n    profile: '',\r\n    attackDice: 5,\r\n    damage: 4,\r\n    damageCritical: 6,\r\n    specialRules: [],\r\n    criticalRules: [criticalRules.RENDING],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Cult knife and claw',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 4,\r\n    damageCritical: 5,\r\n    specialRules: [specialRules.BALANCED],\r\n    criticalRules: [criticalRules.RENDING],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Cult bonesword and claw',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 4,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.BALANCED, specialRules.LETHAL5],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Heavy rock cutter',\r\n    profile: '',\r\n    attackDice: 4,\r\n    weaponBallisticSkillAdjustment: 1,\r\n    damage: 5,\r\n    damageCritical: 7,\r\n    specialRules: [specialRules.LETHAL5],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Heavy rock cutter',\r\n    profile: 'Mining tool rig (eq.)',\r\n    attackDice: 4,\r\n    weaponBallisticSkillAdjustment: 1,\r\n    damage: 5,\r\n    damageCritical: 7,\r\n    specialRules: [specialRules.LETHAL5, specialRules.RELENTLESS],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Heavy rock drill',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 4,\r\n    damageCritical: 7,\r\n    specialRules: [specialRules.BRUTAL],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Heavy rock drill',\r\n    profile: 'Mining tool rig (eq.)',\r\n    attackDice: 4,\r\n    damage: 4,\r\n    damageCritical: 7,\r\n    specialRules: [specialRules.BRUTAL, specialRules.RELENTLESS],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Heavy rock saw',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 5,\r\n    damageCritical: 6,\r\n    specialRules: [],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Heavy rock saw',\r\n    profile: 'Mining tool rig (eq.)',\r\n    attackDice: 4,\r\n    damage: 5,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.RELENTLESS],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Cult bonesword and metamorph mutations',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 4,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.BALANCED, specialRules.LETHAL5],\r\n    criticalRules: [criticalRules.RENDING],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n  {\r\n    name: 'Metamorph mutations',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 4,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.BALANCED, specialRules.BRUTAL],\r\n    criticalRules: [criticalRules.RENDING],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n]\r\n","import { specialRules, criticalRules } from '../../rules'\r\nimport { Weapon } from '../weapons'\r\n\r\nexport const pistols: Weapon[] = [\r\n  {\r\n    name: 'Bolt pistol (CSM)',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [specialRules.RNG6],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Bolt pistol (CSM)',\r\n    profile: 'Belt Feed',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [specialRules.RNG6, specialRules.CEASELESS],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Bolt pistol (CSM)',\r\n    profile: 'Malefic Rounds',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [specialRules.RNG6],\r\n    criticalRules: [criticalRules.P1],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Bolt pistol',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [specialRules.RNG6],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Grav-pistol',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 4,\r\n    damageCritical: 5,\r\n    specialRules: [specialRules.RNG6, specialRules.AP1, specialRules.GRAV],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Inferno pistol',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 5,\r\n    damageCritical: 3,\r\n    specialRules: [specialRules.RNG3, specialRules.AP2],\r\n    criticalRules: [criticalRules.MW3],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Plasma pistol',\r\n    profile: 'Standard',\r\n    attackDice: 4,\r\n    damage: 5,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.RNG6, specialRules.AP1],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Plasma pistol',\r\n    profile: 'Supercharge',\r\n    attackDice: 4,\r\n    damage: 5,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.RNG6, specialRules.AP2],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Arc pistol',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 4,\r\n    damageCritical: 5,\r\n    specialRules: [specialRules.RNG6, specialRules.AP1],\r\n    criticalRules: [criticalRules.STUN],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Phosphor blast pistol',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 4,\r\n    damageCritical: 5,\r\n    specialRules: [specialRules.RNG6, specialRules.BLAST1],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Radium pistol',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 2,\r\n    damageCritical: 3,\r\n    specialRules: [specialRules.RNG6],\r\n    criticalRules: [criticalRules.RENDING],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Autopistol',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 2,\r\n    damageCritical: 3,\r\n    specialRules: [specialRules.RNG6],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n  {\r\n    name: 'Web pistol',\r\n    profile: '',\r\n    attackDice: 4,\r\n    weaponBallisticSkillAdjustment: -1,\r\n    damage: 2,\r\n    damageCritical: 2,\r\n    specialRules: [specialRules.RNG6],\r\n    criticalRules: [criticalRules.STUN],\r\n    equipment: [],\r\n    type: 'RANGED',\r\n  },\r\n]\r\n","import { Rule } from '../rules'\r\nimport { nonHeavyRangedWeapons } from './weapons/nonHeavyRangedWeapons'\r\nimport { heavyRangedWeapons } from './weapons/heavyRangedWeapons'\r\nimport { meleeWeapons } from './weapons/meleeWeapons'\r\nimport { pistols } from './weapons/pistols'\r\n\r\nexport interface Weapon {\r\n  name: string\r\n  profile: string\r\n  attackDice: number\r\n  weaponBallisticSkillAdjustment?: number\r\n  fixedWeaponBallisticSkill?: number\r\n  damage: number\r\n  damageCritical: number\r\n  specialRules: Rule[]\r\n  criticalRules: Rule[]\r\n  equipment: Rule[]\r\n  type: 'RANGED' | 'MELEE'\r\n}\r\n\r\nexport const weapons: Weapon[] = [...meleeWeapons, ...nonHeavyRangedWeapons, ...heavyRangedWeapons, ...pistols]\r\n","import { Weapon, weapons } from './stats/weapons'\r\n\r\ninterface Options {\r\n  weaponBallisticSkillAdjustment?: number\r\n  equipmentProfiles?: string[]\r\n}\r\n\r\ninterface Equipment {\r\n  label: string\r\n}\r\n\r\nexport interface Profile {\r\n  name: string\r\n  movement: number\r\n  apl: number\r\n  groupActivation: number\r\n  defense: number\r\n  save: number\r\n  saveCritical: number\r\n  wounds: number\r\n  weaponSkill: number\r\n  ballisticSkill: number\r\n  weapons: Weapon[]\r\n}\r\n\r\nexport function getProfiles(name: string, options?: Options): Weapon[] {\r\n  const modifiedSkill = options?.weaponBallisticSkillAdjustment\r\n\r\n  return weapons\r\n    .filter((weapon) => weapon.name === name)\r\n    .map((profile) => ({\r\n      ...profile,\r\n      weaponBallisticSkillAdjustment: modifiedSkill ? modifiedSkill : profile.weaponBallisticSkillAdjustment,\r\n    }))\r\n}\r\n\r\nexport function generateEquipmentProfile(weapon: Weapon, newEquipment: Equipment): Weapon {\r\n  return { ...weapon, profile: newEquipment.label, equipment: [...weapon.equipment, newEquipment] }\r\n}\r\n\r\nexport function addEquipmentToProfiles(profiles: Weapon[], equipment: Equipment[]) {\r\n  return profiles.reduce<Weapon[]>((acc, profile) => {\r\n    const equippedProfiles = equipment.reduce<Weapon[]>((acc, eq) => {\r\n      const newAcc = [...acc, generateEquipmentProfile(profile, eq)]\r\n      return newAcc\r\n    }, [])\r\n    const newAcc = [...acc, profile, ...equippedProfiles]\r\n    return newAcc\r\n  }, [])\r\n}\r\n","import { getProfiles, Profile } from '../../helpers'\r\n\r\nexport const deathwatchVeteranWarrior: Profile = {\r\n  name: 'DEATHWATCH VETERAN (WARRIOR)',\r\n  movement: 6,\r\n  apl: 3,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 3,\r\n  saveCritical: 6,\r\n  wounds: 11,\r\n  ballisticSkill: 3,\r\n  weaponSkill: 3,\r\n  weapons: [\r\n    ...getProfiles('Deathwatch Boltgun'),\r\n    ...getProfiles('Deathwatch Shotgun'),\r\n    ...getProfiles('Stalker pattern boltgun'),\r\n    ...getProfiles('Storm bolter'),\r\n    ...getProfiles('Fists'),\r\n    ...getProfiles('Power weapon'),\r\n  ],\r\n}\r\nexport const deathwatchVeteranFighter: Profile = {\r\n  name: 'DEATHWATCH VETERAN (FIGHTER)',\r\n  movement: 6,\r\n  apl: 3,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 3,\r\n  saveCritical: 6,\r\n  wounds: 11,\r\n  ballisticSkill: 3,\r\n  weaponSkill: 3,\r\n  weapons: [\r\n    ...getProfiles('Bolt pistol'),\r\n    ...getProfiles('Grav-pistol'),\r\n    ...getProfiles('Hand flamer'),\r\n    ...getProfiles('Inferno pistol'),\r\n    ...getProfiles('Plasma pistol'),\r\n    ...getProfiles('Chainsword'),\r\n    ...getProfiles('Heavy thunder hammer'),\r\n    ...getProfiles('Lightning claw'),\r\n    ...getProfiles('Lightning claws'),\r\n    ...getProfiles('Power fist'),\r\n    ...getProfiles('Power maul'),\r\n    ...getProfiles('Power weapon'),\r\n    ...getProfiles('Thunder hammer'),\r\n  ],\r\n}\r\nexport const deathwatchVeteranGunner: Profile = {\r\n  name: 'DEATHWATCH VETERAN (GUNNER)',\r\n  movement: 6,\r\n  apl: 3,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 3,\r\n  saveCritical: 6,\r\n  wounds: 11,\r\n  ballisticSkill: 3,\r\n  weaponSkill: 3,\r\n  weapons: [\r\n    ...getProfiles('Combi-flamer'),\r\n    ...getProfiles('Combi-grav'),\r\n    ...getProfiles('Combi-melta'),\r\n    ...getProfiles('Combi-plasma'),\r\n    ...getProfiles('Deathwatch Boltgun'),\r\n    ...getProfiles('Flamer'),\r\n    ...getProfiles('Grav-gun'),\r\n    ...getProfiles('Meltagun'),\r\n    ...getProfiles('Plasma gun'),\r\n    ...getProfiles('Fists'),\r\n  ],\r\n}\r\nexport const deathwatchVeteranHeavyGunner: Profile = {\r\n  name: 'DEATHWATCH VETERAN (HEAVY GUNNER)',\r\n  movement: 6,\r\n  apl: 3,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 3,\r\n  saveCritical: 6,\r\n  wounds: 11,\r\n  ballisticSkill: 3,\r\n  weaponSkill: 3,\r\n  weapons: [\r\n    ...getProfiles('Frag Cannon'),\r\n    ...getProfiles('Infernus Heavy Bolter'),\r\n    ...getProfiles('Missile Launcher'),\r\n    ...getProfiles('Fists'),\r\n  ],\r\n}\r\nexport const deathwatchVeteranWatchSergeant: Profile = {\r\n  name: 'DEATHWATCH VETERAN WATCH SERGEANT',\r\n  movement: 6,\r\n  apl: 3,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 3,\r\n  saveCritical: 6,\r\n  wounds: 12,\r\n  ballisticSkill: 2,\r\n  weaponSkill: 2,\r\n  weapons: [\r\n    ...getProfiles('Deathwatch Boltgun'),\r\n    ...getProfiles('Deathwatch Shotgun'),\r\n    ...getProfiles('Combi-flamer'),\r\n    ...getProfiles('Combi-grav'),\r\n    ...getProfiles('Combi-melta'),\r\n    ...getProfiles('Combi-plasma'),\r\n    ...getProfiles('Flamer'),\r\n    ...getProfiles('Grav-gun'),\r\n    ...getProfiles('Meltagun'),\r\n    ...getProfiles('Plasma gun'),\r\n    ...getProfiles('Stalker pattern boltgun'),\r\n    ...getProfiles('Storm bolter'),\r\n    ...getProfiles('Bolt pistol'),\r\n    ...getProfiles('Grav-pistol'),\r\n    ...getProfiles('Hand flamer'),\r\n    ...getProfiles('Inferno pistol'),\r\n    ...getProfiles('Plasma pistol'),\r\n    ...getProfiles('Fists'),\r\n    ...getProfiles('Heavy thunder hammer'),\r\n    ...getProfiles('Lightning claws'),\r\n    ...getProfiles('Chainsword'),\r\n    ...getProfiles('Lightning claw'),\r\n    ...getProfiles('Power fist'),\r\n    ...getProfiles('Power maul'),\r\n    ...getProfiles('Power weapon'),\r\n    ...getProfiles('Thunder hammer'),\r\n    ...getProfiles('Xenophase blade'),\r\n  ],\r\n}\r\n\r\nexport const adeptusAstartesStats = {\r\n  name: 'Adeptus Astartes',\r\n  fireTeams: [\r\n    {\r\n      name: 'Deathwatch Veterans',\r\n      dataSheets: [\r\n        deathwatchVeteranWarrior,\r\n        deathwatchVeteranFighter,\r\n        deathwatchVeteranGunner,\r\n        deathwatchVeteranHeavyGunner,\r\n        deathwatchVeteranWatchSergeant,\r\n      ],\r\n    },\r\n  ],\r\n}\r\n","import { addEquipmentToProfiles, generateEquipmentProfile, getProfiles, Profile } from '../../helpers'\r\nimport { Weapon } from '../weapons'\r\n\r\nexport const hereticAstartesEquipment = {\r\n  GRISLY_TROPHY: {\r\n    label: 'Grisly trophy',\r\n  },\r\n  DARK_BLESSING: {\r\n    label: 'Dark blessing',\r\n  },\r\n}\r\n\r\nexport const chaosSmWarrior: Profile = {\r\n  name: 'CHAOS SPACE MARINE (WARRIOR)',\r\n  movement: 6,\r\n  apl: 3,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 3,\r\n  saveCritical: 6,\r\n  wounds: 12,\r\n  ballisticSkill: 3,\r\n  weaponSkill: 3,\r\n  weapons: [\r\n    ...getProfiles('Boltgun (CSM)'),\r\n    ...getProfiles('Bolt Pistol (CSM)'),\r\n    ...getProfiles('Chainsword'),\r\n    ...getProfiles('Fists'),\r\n  ],\r\n}\r\nexport const chaosSmGunner: Profile = {\r\n  name: 'CHAOS SPACE MARINE (GUNNER)',\r\n  movement: 6,\r\n  apl: 3,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 3,\r\n  saveCritical: 6,\r\n  wounds: 12,\r\n  ballisticSkill: 3,\r\n  weaponSkill: 3,\r\n  weapons: [\r\n    ...getProfiles('Flamer'),\r\n    ...getProfiles('Meltagun'),\r\n    ...getProfiles('Plasma gun'),\r\n    ...getProfiles('Fists'),\r\n  ],\r\n}\r\nexport const chaosSmHeavyGunner: Profile = {\r\n  name: 'CHAOS SPACE MARINE (HEAVY GUNNER)',\r\n  movement: 6,\r\n  apl: 3,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 3,\r\n  saveCritical: 6,\r\n  wounds: 12,\r\n  ballisticSkill: 3,\r\n  weaponSkill: 3,\r\n  weapons: [...getProfiles('Heavy Bolter (CSM)'), ...getProfiles('Missile Launcher'), ...getProfiles('Fists')],\r\n}\r\nexport const chaosSmIconBearer: Profile = {\r\n  name: 'CHAOS SPACE MARINE (ICON BEARER)',\r\n  movement: 6,\r\n  apl: 3,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 3,\r\n  saveCritical: 6,\r\n  wounds: 12,\r\n  ballisticSkill: 3,\r\n  weaponSkill: 3,\r\n  weapons: [\r\n    ...getProfiles('Boltgun (CSM)'),\r\n    ...getProfiles('Bolt Pistol (CSM)'),\r\n    ...getProfiles('Chainsword'),\r\n    ...getProfiles('Fists'),\r\n  ],\r\n}\r\nexport const chaosSmAspiringChampion: Profile = {\r\n  name: 'CHAOS SPACE MARINE ASPIRING CHAMPION',\r\n  movement: 6,\r\n  apl: 3,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 3,\r\n  saveCritical: 6,\r\n  wounds: 13,\r\n  ballisticSkill: 2,\r\n  weaponSkill: 2,\r\n  weapons: [\r\n    ...getProfiles('Boltgun (CSM)'),\r\n    ...getProfiles('Bolt pistol (CSM)'),\r\n    ...getProfiles('Plasma pistol'),\r\n    ...getProfiles('Chainsword'),\r\n    ...getProfiles('Fists'),\r\n    ...addEquipmentToProfiles(getProfiles('Power fist'), [\r\n      hereticAstartesEquipment.GRISLY_TROPHY,\r\n      hereticAstartesEquipment.DARK_BLESSING,\r\n    ]),\r\n    ...getProfiles('Power weapon'),\r\n  ],\r\n}\r\n\r\nexport const hereticAstartesStats = {\r\n  name: 'Heretic Astartes',\r\n  fireTeams: [\r\n    {\r\n      name: 'Chaos Space Marines',\r\n      dataSheets: [chaosSmWarrior, chaosSmGunner, chaosSmHeavyGunner, chaosSmIconBearer, chaosSmAspiringChampion],\r\n    },\r\n  ],\r\n}\r\n","import { Weapon } from './stats/weapons'\r\nimport { specialRules, criticalRules } from './rules'\r\nimport { DamageMelee, DamageRanged, Defenseprofile } from './App'\r\nimport { Profile } from './helpers'\r\nimport { hereticAstartesEquipment } from './stats/factions/hereticAstartes'\r\n\r\nfunction oneDiceChanceOfSuccess(successFrom: number, critFrom: number = 6) {\r\n  const chanceOfSuccess = (7 - successFrom) * (1 / 6)\r\n  const chanceOfCrit = (7 - critFrom) * (1 / 6)\r\n  return chanceOfSuccess - chanceOfCrit\r\n}\r\n\r\nfunction oneDiceChanceOfMiss(successFrom: number) {\r\n  return (successFrom - 1) * (1 / 6)\r\n}\r\n\r\nfunction oneDiceChanceOfCrit(critFrom: number = 6) {\r\n  return (7 - critFrom) * (1 / 6)\r\n}\r\n\r\nexport function calculateDamage(weapon: Weapon, defenseProfile: Defenseprofile, attackProfile: Profile) {\r\n  if (weapon.type === 'MELEE') {\r\n    return calculateDamageMelee(weapon, defenseProfile, attackProfile)\r\n  }\r\n\r\n  if (weapon.type === 'RANGED') {\r\n    return calculateDamageRanged(weapon, defenseProfile, attackProfile)\r\n  }\r\n\r\n  return calculateDamageMelee(weapon, defenseProfile, attackProfile)\r\n}\r\n\r\nfunction calculateDamageRanged(weapon: Weapon, defenseProfile: Defenseprofile, attackProfile: Profile): DamageRanged {\r\n  let rolledDefenseDice = defenseProfile.defense\r\n\r\n  let ballisticSkillCritical = 6\r\n\r\n  // LETHAL 5+\r\n  if (weapon.specialRules.includes(specialRules.LETHAL5)) {\r\n    ballisticSkillCritical = Math.max(5, attackProfile.ballisticSkill)\r\n  }\r\n\r\n  // LETHAL 4+\r\n  if (weapon.specialRules.includes(specialRules.LETHAL4)) {\r\n    ballisticSkillCritical = Math.max(4, attackProfile.ballisticSkill)\r\n  }\r\n\r\n  // GRAV\r\n  if (weapon.specialRules.includes(specialRules.GRAV) && defenseProfile.save <= 3) {\r\n    ballisticSkillCritical = Math.max(4, attackProfile.ballisticSkill)\r\n  }\r\n\r\n  // AP1\r\n  if (weapon.specialRules.includes(specialRules.AP1)) {\r\n    rolledDefenseDice -= 1\r\n  }\r\n\r\n  // AP2\r\n  if (weapon.specialRules.includes(specialRules.AP2)) {\r\n    rolledDefenseDice -= 2\r\n  }\r\n  const weaponBallisticSkill =\r\n    weapon.fixedWeaponBallisticSkill || attackProfile.ballisticSkill + (weapon.weaponBallisticSkillAdjustment || 0)\r\n\r\n  const adjustedballisticSkill = Math.max(2, weaponBallisticSkill)\r\n\r\n  let expectedHits = oneDiceChanceOfSuccess(adjustedballisticSkill, ballisticSkillCritical) * weapon.attackDice\r\n  let expectedCriticalHits = oneDiceChanceOfCrit(ballisticSkillCritical) * weapon.attackDice\r\n\r\n  // BALANCED\r\n  if (weapon.specialRules.includes(specialRules.BALANCED)) {\r\n    const chanceOfMiss = Math.min(1, oneDiceChanceOfMiss(adjustedballisticSkill) * weapon.attackDice)\r\n    expectedHits += oneDiceChanceOfSuccess(adjustedballisticSkill, ballisticSkillCritical) * chanceOfMiss\r\n    expectedCriticalHits += oneDiceChanceOfCrit(ballisticSkillCritical) * chanceOfMiss\r\n  }\r\n\r\n  const chanceOfAtLeastOneCrit = Math.min(expectedCriticalHits, 1)\r\n\r\n  // Normal\r\n  const chanceOfSave = oneDiceChanceOfSuccess(defenseProfile.save, defenseProfile.saveCritical)\r\n  const chanceOfSaveCritical = oneDiceChanceOfCrit(defenseProfile.saveCritical)\r\n\r\n  let expectedSaves = chanceOfSave * rolledDefenseDice\r\n  let expectedCriticalSaves = chanceOfSaveCritical * rolledDefenseDice\r\n\r\n  // Critical P1\r\n  if (weapon.criticalRules.includes(criticalRules.P1)) {\r\n    const chanceOfNoCrit = 1 - chanceOfAtLeastOneCrit\r\n\r\n    const p1Saves = chanceOfAtLeastOneCrit * (rolledDefenseDice - 1) * chanceOfSave\r\n    const p1SaveCrits = chanceOfAtLeastOneCrit * (rolledDefenseDice - 1) * chanceOfSaveCritical\r\n    const nonP1Saves = chanceOfNoCrit * rolledDefenseDice * chanceOfSave\r\n    const nonP1SaveCrits = chanceOfNoCrit * rolledDefenseDice * chanceOfSaveCritical\r\n\r\n    expectedSaves = p1Saves + nonP1Saves\r\n    expectedCriticalSaves = p1SaveCrits + nonP1SaveCrits\r\n  }\r\n\r\n  // RENDING\r\n  if (weapon.criticalRules.includes(criticalRules.RENDING)) {\r\n    expectedHits -= chanceOfAtLeastOneCrit / weapon.attackDice\r\n    expectedCriticalHits += chanceOfAtLeastOneCrit / weapon.attackDice\r\n  }\r\n\r\n  // CEASELESS\r\n  if (weapon.specialRules.includes(specialRules.CEASELESS)) {\r\n    const expectedNaturalOnes = (1 / 6) * weapon.attackDice\r\n\r\n    expectedHits += expectedNaturalOnes * oneDiceChanceOfSuccess(attackProfile.ballisticSkill, ballisticSkillCritical)\r\n    expectedCriticalHits += expectedNaturalOnes * oneDiceChanceOfCrit(ballisticSkillCritical)\r\n  }\r\n\r\n  // RELENTLESS\r\n  if (weapon.specialRules.includes(specialRules.RELENTLESS)) {\r\n    const expectedMisses = oneDiceChanceOfMiss(attackProfile.ballisticSkill) * weapon.attackDice\r\n\r\n    expectedHits += expectedMisses * oneDiceChanceOfSuccess(attackProfile.ballisticSkill, ballisticSkillCritical)\r\n    expectedCriticalHits += expectedMisses * oneDiceChanceOfCrit(ballisticSkillCritical)\r\n  }\r\n\r\n  const expectedHitDamage = Math.max(0, expectedHits - expectedSaves) * weapon.damage\r\n\r\n  const expectedCritDamage = Math.max(0, expectedCriticalHits - expectedCriticalSaves) * weapon.damageCritical\r\n\r\n  // MWx\r\n  let mw = 0\r\n\r\n  if (weapon.criticalRules.includes(criticalRules.MW2)) {\r\n    mw = 2\r\n  }\r\n\r\n  if (weapon.criticalRules.includes(criticalRules.MW3)) {\r\n    mw = 3\r\n  }\r\n\r\n  if (weapon.criticalRules.includes(criticalRules.MW4)) {\r\n    mw = 4\r\n  }\r\n\r\n  const expectedMortalWounds = expectedCriticalHits * mw\r\n\r\n  // const rendingDamage = weapon.criticalRules.includes(criticalRules.RENDING)\r\n  //   ? calculateRendingDamage(weapon, ballisticSkill) -\r\n  //     chanceOfCrit(defenseProfile.saveCritical) * defenseProfile.defenseDice *\r\n  //   : 0;\r\n  const expectedTotalDamage = expectedHitDamage + expectedCritDamage + expectedMortalWounds\r\n\r\n  return {\r\n    type: 'ranged',\r\n    total: +expectedTotalDamage.toFixed(2),\r\n    hit: +expectedHitDamage.toFixed(2),\r\n    crit: +expectedCritDamage.toFixed(2),\r\n    mw: +expectedMortalWounds.toFixed(2),\r\n    // RENDING: rendingDamage.toFixed(2),\r\n  }\r\n}\r\n\r\nexport function getAttackerAttackDice(weapon: Weapon) {\r\n  let attackDice = weapon.attackDice\r\n\r\n  // DARK BLESSING on attacker weapon\r\n  if (weapon.equipment.includes(hereticAstartesEquipment.DARK_BLESSING)) {\r\n    attackDice += 1\r\n  }\r\n\r\n  return attackDice\r\n}\r\n\r\nexport function calculateMeleeBasics(\r\n  attackerWeapon: Weapon,\r\n  attackerWeaponSkill: number,\r\n  defenseProfile: Defenseprofile\r\n) {\r\n  /**\r\n   * ATTACKER basic stats\r\n   * */\r\n  let attackerWeaponSkillCritical = 6\r\n\r\n  // LETHAL 5+ on attacker weapon\r\n  if (attackerWeapon.specialRules.includes(specialRules.LETHAL5)) {\r\n    attackerWeaponSkillCritical = Math.max(5, attackerWeaponSkill)\r\n  }\r\n\r\n  // LETHAL 4+ on attacker weapon\r\n  if (attackerWeapon.specialRules.includes(specialRules.LETHAL4)) {\r\n    attackerWeaponSkillCritical = Math.max(4, attackerWeaponSkill)\r\n  }\r\n\r\n  const attackerAdjustedWeaponSkill = Math.max(\r\n    2,\r\n    attackerWeapon.weaponBallisticSkillAdjustment\r\n      ? attackerWeaponSkill + attackerWeapon.weaponBallisticSkillAdjustment\r\n      : attackerWeaponSkill\r\n  )\r\n\r\n  const attackerHitsPerDie = oneDiceChanceOfSuccess(attackerAdjustedWeaponSkill, attackerWeaponSkillCritical)\r\n  const attackerCritsPerDie = oneDiceChanceOfCrit(attackerWeaponSkillCritical)\r\n\r\n  const attackerAttackDice = getAttackerAttackDice(attackerWeapon)\r\n\r\n  let attackerHits = attackerHitsPerDie * attackerAttackDice\r\n  let attackerCrits = attackerCritsPerDie * attackerAttackDice\r\n\r\n  // RELENTLESS on attacker weapon\r\n  if (attackerWeapon.specialRules.includes(specialRules.RELENTLESS)) {\r\n    const expectedMisses = oneDiceChanceOfMiss(attackerAdjustedWeaponSkill) * attackerAttackDice\r\n\r\n    attackerHits += expectedMisses * oneDiceChanceOfSuccess(attackerAdjustedWeaponSkill, attackerWeaponSkillCritical)\r\n    attackerCrits += expectedMisses * oneDiceChanceOfCrit(attackerWeaponSkillCritical)\r\n  }\r\n\r\n  // BALANCED on attacker weapon\r\n  if (attackerWeapon.specialRules.includes(specialRules.BALANCED)) {\r\n    const chanceOfMiss = Math.min(1, oneDiceChanceOfMiss(attackerAdjustedWeaponSkill) * attackerAttackDice)\r\n    attackerHits += oneDiceChanceOfSuccess(attackerAdjustedWeaponSkill, attackerWeaponSkillCritical) * chanceOfMiss\r\n    attackerCrits += oneDiceChanceOfCrit(attackerWeaponSkillCritical) * chanceOfMiss\r\n  }\r\n\r\n  const attackerExpectedCriticalHitsMax1 = Math.min(1, attackerCrits)\r\n\r\n  /**\r\n   * DEFENDER basic stats\r\n   * */\r\n  let defenseWeaponSkillCritical = 6\r\n\r\n  // LETHAL 5+ on defender weapon\r\n  if (defenseProfile.defensiveWeapon.specialRules.includes(specialRules.LETHAL5)) {\r\n    defenseWeaponSkillCritical = Math.max(5, defenseProfile.weaponSkill)\r\n  }\r\n\r\n  // LETHAL 4+ on defender weapon\r\n  if (defenseProfile.defensiveWeapon.specialRules.includes(specialRules.LETHAL4)) {\r\n    defenseWeaponSkillCritical = Math.max(4, defenseProfile.weaponSkill)\r\n  }\r\n\r\n  const defenseAdjustedWeaponSkill = Math.max(\r\n    2,\r\n    defenseProfile.defensiveWeapon.weaponBallisticSkillAdjustment\r\n      ? defenseProfile.weaponSkill + defenseProfile.defensiveWeapon.weaponBallisticSkillAdjustment\r\n      : defenseProfile.weaponSkill\r\n  )\r\n\r\n  const defenderHitsPerDie = oneDiceChanceOfSuccess(defenseAdjustedWeaponSkill, defenseWeaponSkillCritical)\r\n  const defenderCritsPerDie = oneDiceChanceOfCrit(defenseWeaponSkillCritical)\r\n\r\n  let defenderAttackDice = defenseProfile.defensiveWeapon.attackDice\r\n\r\n  // GRISLY TROPHY on attacker weapon\r\n  if (attackerWeapon.equipment.includes(hereticAstartesEquipment.GRISLY_TROPHY)) {\r\n    defenderAttackDice -= 1\r\n  }\r\n\r\n  let defenderHits = defenderHitsPerDie * defenderAttackDice\r\n  let defenderCrits = defenderCritsPerDie * defenderAttackDice\r\n\r\n  // STUN on attacker weapon\r\n  if (attackerWeapon.criticalRules.includes(criticalRules.STUN)) {\r\n    defenderHits -= defenderHitsPerDie * attackerExpectedCriticalHitsMax1\r\n  }\r\n\r\n  // RELENTLESS on defender weapon\r\n  if (defenseProfile.defensiveWeapon.specialRules.includes(specialRules.RELENTLESS)) {\r\n    const expectedMisses = oneDiceChanceOfMiss(attackerAdjustedWeaponSkill) * attackerAttackDice\r\n\r\n    defenderHits += expectedMisses * oneDiceChanceOfSuccess(attackerAdjustedWeaponSkill, attackerWeaponSkillCritical)\r\n    defenderCrits += expectedMisses * oneDiceChanceOfCrit(attackerWeaponSkillCritical)\r\n  }\r\n\r\n  // BALANCED on defender weapon\r\n  if (defenseProfile.defensiveWeapon.specialRules.includes(specialRules.BALANCED)) {\r\n    const chanceOfMiss = Math.min(1, oneDiceChanceOfMiss(attackerAdjustedWeaponSkill) * attackerAttackDice)\r\n    defenderHits += oneDiceChanceOfSuccess(attackerAdjustedWeaponSkill, attackerWeaponSkillCritical) * chanceOfMiss\r\n    defenderCrits += oneDiceChanceOfCrit(attackerWeaponSkillCritical) * chanceOfMiss\r\n  }\r\n\r\n  const defenderExpectedCriticalHitsMax1 = Math.min(1, defenderCrits)\r\n\r\n  // STUN on defender weapon\r\n  if (defenseProfile.defensiveWeapon.criticalRules.includes(criticalRules.STUN)) {\r\n    attackerHits -= attackerHitsPerDie * defenderExpectedCriticalHitsMax1\r\n  }\r\n\r\n  return {\r\n    attackerHits,\r\n    attackerCrits,\r\n    defenderHits,\r\n    defenderCrits,\r\n    attackerAdjustedWeaponSkill,\r\n    attackerWeaponSkillCritical,\r\n    defenderHitsPerDie,\r\n    defenderCritsPerDie,\r\n    attackerHitsPerDie,\r\n    attackerCritsPerDie,\r\n  }\r\n}\r\n\r\ninterface CalculateMeleeBlowByBlowProps {\r\n  attackerWeaponProfile: Weapon\r\n  attackerHits: number\r\n  attackerCrits: number\r\n  attackerStrategy: 'STRIKE' | 'PARRY'\r\n  defenderWeaponProfile: Weapon\r\n  defenderHits: number\r\n  defenderCrits: number\r\n  defenderStrategy: 'STRIKE' | 'PARRY'\r\n  defenseProfile: Defenseprofile\r\n  attackProfile: Profile\r\n}\r\n\r\nfunction calculateMeleeBlowByBlow({\r\n  attackerWeaponProfile,\r\n  attackerHits,\r\n  attackerCrits,\r\n  attackerStrategy,\r\n  defenderWeaponProfile,\r\n  defenderHits,\r\n  defenderCrits,\r\n  defenderStrategy,\r\n  defenseProfile,\r\n  attackProfile,\r\n}: CalculateMeleeBlowByBlowProps) {\r\n  let aCrits = attackerCrits\r\n  let aHits = attackerHits\r\n  const aWounds = attackProfile.wounds\r\n  let aDamage = 0\r\n\r\n  let dCrits = defenderCrits\r\n  let dHits = defenderHits\r\n  const dWounds = defenseProfile.wounds\r\n  let dDamage = 0\r\n\r\n  let attackerInitiative = true\r\n  let counter = 0\r\n\r\n  while (\r\n    (aHits > 0 || aCrits > 0 || dHits > 0 || dCrits > 0) &&\r\n    aWounds > aDamage &&\r\n    dWounds > dDamage &&\r\n    counter < 100\r\n  ) {\r\n    resolveDie()\r\n    attackerInitiative = !attackerInitiative\r\n    counter++\r\n  }\r\n\r\n  return {\r\n    attackerDamage: aDamage,\r\n    defenderDamage: dDamage,\r\n    attackerDead: aDamage >= aWounds,\r\n    defenderDead: dDamage >= dWounds,\r\n    counter,\r\n    finalStats: { aCrits, dCrits, aHits, dHits },\r\n  }\r\n\r\n  function resolveDie() {\r\n    if (attackerInitiative) {\r\n      if (attackerStrategy === 'STRIKE') {\r\n        if (aCrits >= 1) {\r\n          dDamage += 1 * attackerWeaponProfile.damageCritical\r\n          aCrits -= 1\r\n          return\r\n        } else if (aCrits > 0 && aCrits < 1) {\r\n          // If a partial crit does more damage than the next hit, do the partial crit\r\n          if (aCrits * attackerWeaponProfile.damageCritical > attackerWeaponProfile.damage * Math.min(aHits, 1)) {\r\n            dDamage += attackerWeaponProfile.damageCritical * aCrits\r\n            aCrits -= aCrits\r\n            return\r\n          }\r\n          // Otherwise fall through to the hits\r\n        }\r\n\r\n        if (aHits >= 1) {\r\n          dDamage += 1 * attackerWeaponProfile.damage\r\n          aHits -= 1\r\n          return\r\n        } else if (aHits > 0 && aHits < 1) {\r\n          dDamage += attackerWeaponProfile.damage * aHits\r\n          aHits -= aHits\r\n          return\r\n        }\r\n      }\r\n      if (attackerStrategy === 'PARRY') {\r\n        if (aCrits >= 1) {\r\n          // One or more full attacker crits left\r\n          if (dCrits >= 1) {\r\n            // One or more full defender crits left\r\n            // => both left over\r\n            dCrits -= 1\r\n            aCrits -= 1\r\n            return\r\n          } else if (dCrits > 0 && dCrits < 1) {\r\n            // Partial defender crit left\r\n            // => defender crit is used up, attacker crit left over\r\n            dCrits -= dCrits\r\n            aCrits -= dCrits\r\n          } else {\r\n            // Do damage with leftover crit\r\n            dDamage += Math.min(aCrits, 1) * attackerWeaponProfile.damageCritical\r\n            aCrits -= Math.min(aCrits, 1)\r\n            return\r\n          }\r\n        } else if (aCrits > 0 && aCrits < 1) {\r\n          // Partial attacker crit left\r\n          if (dCrits >= aCrits) {\r\n            // Enough defender crits left to soak up all attacker crits left\r\n            // => attacker crit is used up, defender crit left over\r\n            dCrits -= aCrits\r\n            aCrits -= aCrits\r\n            return\r\n          } else if (dCrits > 0 && dCrits < aCrits) {\r\n            // Not enough defender crits left to soak up all attacker crits left\r\n            // => defender crit is used up, attacker crit left over\r\n            dCrits -= dCrits\r\n            aCrits -= dCrits\r\n          } else {\r\n            // Do damage with leftover crit\r\n            dDamage += Math.min(aCrits, 1) * attackerWeaponProfile.damageCritical\r\n            aCrits -= Math.min(aCrits, 1)\r\n            return\r\n          }\r\n        }\r\n\r\n        if (aHits >= 1) {\r\n          // One or more full attacker hits left\r\n          if (dHits >= 1) {\r\n            // One or more full defender hits left\r\n            // => both left over\r\n            dHits -= 1\r\n            aHits -= 1\r\n            return\r\n          } else if (dHits > 0 && dHits < 1) {\r\n            // Partial defender hit left\r\n            // => defender hit is used up, attacker hit left over\r\n            dHits -= dHits\r\n            aHits -= dHits\r\n          } else {\r\n            // Do damage with leftover hit\r\n            dDamage += Math.min(aHits, 1) * attackerWeaponProfile.damage\r\n            aHits -= Math.min(aHits, 1)\r\n            return\r\n          }\r\n        } else if (aHits > 0 && aHits < 1) {\r\n          // Partial attacker hit left\r\n          if (dHits >= aHits) {\r\n            // Enough defender hits left to soak up all attacker hits left\r\n            // => attacker hit is used up, defender hit left over\r\n            dHits -= aHits\r\n            aHits -= aHits\r\n            return\r\n          } else if (dHits > 0 && dHits < aHits) {\r\n            // Not enough defender hits left to soak up all attacker hits left\r\n            // => defender hit is used up, attacker hit left over\r\n            dHits -= dHits\r\n            aHits -= dHits\r\n          } else {\r\n            // Do damage with leftover hit\r\n            dDamage += Math.min(aHits, 1) * attackerWeaponProfile.damage\r\n            aHits -= Math.min(aHits, 1)\r\n            return\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // DEFENDER has intiative\r\n    if (!attackerInitiative) {\r\n      if (defenderStrategy === 'STRIKE') {\r\n        // FIXME if a partial crit for less damage than the next hit, do the hit\r\n        if (dCrits >= 1) {\r\n          aDamage += defenderWeaponProfile.damageCritical\r\n          dCrits -= 1\r\n          return\r\n        } else if (dCrits > 0 && dCrits < 1) {\r\n          // If a partial crit does more damage than the next hit, do the partial crit\r\n          if (dCrits * defenderWeaponProfile.damageCritical > defenderWeaponProfile.damage * Math.min(dHits, 1)) {\r\n            aDamage += defenderWeaponProfile.damageCritical * dCrits\r\n            dCrits -= dCrits\r\n            return\r\n          }\r\n          // Otherwise fall through to the hits\r\n        }\r\n\r\n        if (dHits >= 1) {\r\n          aDamage += defenderWeaponProfile.damage\r\n          dHits -= 1\r\n          return\r\n        } else if (dHits > 0 && dHits < 1) {\r\n          aDamage += dHits * defenderWeaponProfile.damageCritical\r\n          dHits -= dHits\r\n          return\r\n        }\r\n      }\r\n      if (defenderStrategy === 'PARRY') {\r\n        if (dCrits >= 1) {\r\n          // One or more full defender crits left\r\n          if (aCrits >= 1) {\r\n            // One or more full attacker crits left\r\n            // => both left over\r\n            aCrits -= 1\r\n            dCrits -= 1\r\n            return\r\n          } else if (aCrits > 0 && aCrits < 1) {\r\n            // Partial attacker crit left\r\n            // => attacker crit is used up, defender crit left over\r\n            aCrits -= aCrits\r\n            dCrits -= aCrits\r\n            return\r\n          } else {\r\n            // Do damage with leftover crit\r\n            aDamage += Math.min(dCrits, 1) * defenderWeaponProfile.damageCritical\r\n            dCrits -= Math.min(dCrits, 1)\r\n            return\r\n          }\r\n        } else if (dCrits > 0 && dCrits < 1) {\r\n          // Partial defender crit left\r\n          if (aCrits >= dCrits) {\r\n            // Enough attacker crits left to soak up all defender crits left\r\n            // => defender crit is used up, attacker crit left over\r\n            aCrits -= dCrits\r\n            dCrits -= dCrits\r\n            return\r\n          } else if (aCrits > 0 && aCrits < dCrits) {\r\n            // Not enough attacker crits left to soak up all defender crits left\r\n            // => attacker crit is used up, defender crit left over\r\n            aCrits -= aCrits\r\n            dCrits -= aCrits\r\n            return\r\n          } else {\r\n            // Do damage with leftover crit\r\n            aDamage += Math.min(dCrits, 1) * defenderWeaponProfile.damageCritical\r\n            dCrits -= Math.min(dCrits, 1)\r\n            return\r\n          }\r\n        }\r\n\r\n        if (dHits >= 1) {\r\n          // One or more full defender hits left\r\n          if (aHits >= 1) {\r\n            // One or more full attacker hits left\r\n            // => both left over\r\n            aHits -= 1\r\n            dHits -= 1\r\n            return\r\n          } else if (aHits > 0 && aHits < 1) {\r\n            // Partial attacker hit left\r\n            // => attacker hit is used up, defender hit left over\r\n            aHits -= aHits\r\n            dHits -= aHits\r\n            return\r\n          } else {\r\n            // Do damage with leftover hits\r\n            aDamage += Math.min(dHits, 1) * defenderWeaponProfile.damage\r\n            dHits -= Math.min(dHits, 1)\r\n            return\r\n          }\r\n        } else if (dHits > 0 && dHits < 1) {\r\n          // Partial defender hit left\r\n          if (aHits >= dHits) {\r\n            // Enough attacker hits left to soak up all defender hits left\r\n            // => defender hit is used up, attacker hit left over\r\n            aHits -= dHits\r\n            dHits -= dHits\r\n            return\r\n          } else if (aHits > 0 && aHits < dHits) {\r\n            // Not enough attacker hits left to soak up all defender hits left\r\n            // => attacker hit is used up, defender hit left over\r\n            aHits -= aHits\r\n            dHits -= aHits\r\n            return\r\n          } else {\r\n            // Do damage with leftover hits\r\n            aDamage += Math.min(dHits, 1) * defenderWeaponProfile.damage\r\n            dHits -= Math.min(dHits, 1)\r\n            return\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction calculateDamageMelee(weapon: Weapon, defenseProfile: Defenseprofile, attackProfile: Profile): DamageMelee {\r\n  const { attackerHits, attackerCrits, defenderHits, defenderCrits } = calculateMeleeBasics(\r\n    weapon,\r\n    attackProfile.weaponSkill,\r\n    defenseProfile\r\n  )\r\n\r\n  /** STRATEGY 1\r\n   * Goal: attacker & defender => max damage done\r\n   * Strategy: no parries on either side, just straight damage\r\n   * */\r\n  // eslint-disable-next-line\r\n  const maxDamageOutput = calculateMeleeBlowByBlow({\r\n    attackerWeaponProfile: weapon,\r\n    attackerHits,\r\n    attackerCrits,\r\n    attackerStrategy: 'STRIKE',\r\n    defenderWeaponProfile: defenseProfile.defensiveWeapon,\r\n    defenderHits,\r\n    defenderCrits,\r\n    defenderStrategy: 'STRIKE',\r\n    defenseProfile,\r\n    attackProfile,\r\n  })\r\n\r\n  /** STRATEGY 2\r\n   * Goal: attacker => max damage done, defender => min damage taken\r\n   * Strategy: attacker does maximum damage, defender parries whenever possible\r\n   * */\r\n  const parryDefenderOutput = calculateMeleeBlowByBlow({\r\n    attackerWeaponProfile: weapon,\r\n    attackerHits,\r\n    attackerCrits,\r\n    attackerStrategy: 'STRIKE',\r\n    defenderWeaponProfile: defenseProfile.defensiveWeapon,\r\n    defenderHits,\r\n    defenderCrits,\r\n    defenderStrategy: 'PARRY',\r\n    defenseProfile,\r\n    attackProfile,\r\n  })\r\n\r\n  /** STRATEGY 3\r\n   * Goal: attacker => min damage taken, defender => max damage done\r\n   * Strategy: attacker parries when possible, defender does maximum damage\r\n   * */\r\n  const parryAttackerOutput = calculateMeleeBlowByBlow({\r\n    attackerWeaponProfile: weapon,\r\n    attackerHits,\r\n    attackerCrits,\r\n    attackerStrategy: 'PARRY',\r\n    defenderWeaponProfile: defenseProfile.defensiveWeapon,\r\n    defenderHits,\r\n    defenderCrits,\r\n    defenderStrategy: 'STRIKE',\r\n    defenseProfile,\r\n    attackProfile,\r\n  })\r\n\r\n  return {\r\n    type: 'melee',\r\n    total: {\r\n      maxDamage: {\r\n        attackerDamage: maxDamageOutput.attackerDamage,\r\n        defenderDamage: maxDamageOutput.defenderDamage,\r\n        attackerDead: maxDamageOutput.attackerDead,\r\n        defenderDead: maxDamageOutput.defenderDead,\r\n      },\r\n      parryDefender: {\r\n        attackerDamage: parryDefenderOutput.attackerDamage,\r\n        defenderDamage: parryDefenderOutput.defenderDamage,\r\n        attackerDead: parryDefenderOutput.attackerDead,\r\n        defenderDead: parryDefenderOutput.defenderDead,\r\n      },\r\n      parryAttacker: {\r\n        attackerDamage: parryAttackerOutput.attackerDamage,\r\n        defenderDamage: parryAttackerOutput.defenderDamage,\r\n        attackerDead: parryAttackerOutput.attackerDead,\r\n        defenderDead: parryAttackerOutput.defenderDead,\r\n      },\r\n    },\r\n  }\r\n}\r\n","import { getProfiles } from '../../helpers'\r\n\r\nexport const skitariiRangerTrooper = {\r\n  name: 'SKITARII RANGER (TROOPER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 4,\r\n  saveCritical: 6,\r\n  wounds: 7,\r\n  ballisticSkill: 3,\r\n  weaponSkill: 4,\r\n  weapons: [...getProfiles('Galvanic rifle'), ...getProfiles('Gun butt')],\r\n}\r\n\r\nexport const skitariiRangerGunner = {\r\n  name: 'SKITARII RANGER (GUNNER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 4,\r\n  saveCritical: 6,\r\n  wounds: 7,\r\n  ballisticSkill: 3,\r\n  weaponSkill: 4,\r\n  weapons: [\r\n    ...getProfiles('Arc rifle'),\r\n    ...getProfiles('Plasma caliver'),\r\n    ...getProfiles('Transuranic arquebus'),\r\n    ...getProfiles('Gun butt'),\r\n  ],\r\n}\r\n\r\nexport const skitariiRangerAlpha = {\r\n  name: 'SKITARII RANGER ALPHA',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 4,\r\n  saveCritical: 6,\r\n  wounds: 8,\r\n  ballisticSkill: 2,\r\n  weaponSkill: 4,\r\n  weapons: [\r\n    ...getProfiles('Arc rifle'),\r\n    ...getProfiles('Galvanic rifle'),\r\n    ...getProfiles('Phosphor blast pistol'),\r\n    ...getProfiles('Radium pistol'),\r\n    ...getProfiles('Arc maul'),\r\n    ...getProfiles('Gun butt'),\r\n    ...getProfiles('Power weapon'),\r\n    ...getProfiles('Taser goad'),\r\n  ],\r\n}\r\n\r\nexport const skitariiVanguardTrooper = {\r\n  name: 'SKITARII VANGUARD (TROOPER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 4,\r\n  saveCritical: 6,\r\n  wounds: 7,\r\n  ballisticSkill: 3,\r\n  weaponSkill: 4,\r\n  weapons: [...getProfiles('Radium carbine'), ...getProfiles('Gun butt')],\r\n}\r\n\r\nexport const skitariiVanguardGunner = {\r\n  name: 'SKITARII VANGUARD (GUNNER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 4,\r\n  saveCritical: 6,\r\n  wounds: 7,\r\n  ballisticSkill: 3,\r\n  weaponSkill: 4,\r\n  weapons: [\r\n    ...getProfiles('Arc rifle'),\r\n    ...getProfiles('Plasma caliver'),\r\n    ...getProfiles('Transuranic arquebus'),\r\n    ...getProfiles('Gun butt'),\r\n  ],\r\n}\r\n\r\nexport const skitariiVanguardAlpha = {\r\n  name: 'SKITARII VANGUARD ALPHA',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 4,\r\n  saveCritical: 6,\r\n  wounds: 8,\r\n  ballisticSkill: 2,\r\n  weaponSkill: 4,\r\n  weapons: [\r\n    ...getProfiles('Arc pistol'),\r\n    ...getProfiles('Phosphor blast pistol'),\r\n    ...getProfiles('Radium carbine'),\r\n    ...getProfiles('Radium pistol'),\r\n    ...getProfiles('Arc maul'),\r\n    ...getProfiles('Gun butt'),\r\n    ...getProfiles('Power weapon'),\r\n    ...getProfiles('Taser goad'),\r\n  ],\r\n}\r\n\r\nexport const sicarianRuststalkerTrooper = {\r\n  name: 'SICARIAN RUSTSTALKER (TROOPER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 4,\r\n  saveCritical: 6,\r\n  wounds: 10,\r\n  ballisticSkill: 3,\r\n  weaponSkill: 3,\r\n  weapons: [...getProfiles('Chordclaw and transonic razor'), ...getProfiles('Transonic blades')],\r\n}\r\n\r\nexport const sicarianRuststalkerPrinceps = {\r\n  name: 'SICARIAN RUSTSTALKER PRINCEPS',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 4,\r\n  saveCritical: 6,\r\n  wounds: 11,\r\n  ballisticSkill: 2,\r\n  weaponSkill: 2,\r\n  weapons: [...getProfiles('Chordclaw and transonic razor'), ...getProfiles('Transonic blades')],\r\n}\r\n\r\nexport const sicarianInfiltratorTrooper = {\r\n  name: 'SICARIAN INFILTRATOR (TROOPER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 4,\r\n  saveCritical: 6,\r\n  wounds: 10,\r\n  ballisticSkill: 3,\r\n  weaponSkill: 3,\r\n  weapons: [\r\n    ...getProfiles('Flechette blaster'),\r\n    ...getProfiles('Stubcarbine'),\r\n    ...getProfiles('Power weapon'),\r\n    ...getProfiles('Taser goad'),\r\n  ],\r\n}\r\n\r\nexport const sicarianInfiltratorPrinceps = {\r\n  name: 'SICARIAN INFILTRATOR PRINCEPS',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 4,\r\n  saveCritical: 6,\r\n  wounds: 11,\r\n  ballisticSkill: 2,\r\n  weaponSkill: 3,\r\n  weapons: [\r\n    ...getProfiles('Flechette blaster'),\r\n    ...getProfiles('Stubcarbine'),\r\n    ...getProfiles('Power weapon'),\r\n    ...getProfiles('Taser goad'),\r\n  ],\r\n}\r\n\r\nexport const forgeWorldStats = {\r\n  name: 'Forge World',\r\n  fireTeams: [\r\n    {\r\n      name: 'Skitarii Rangers',\r\n      dataSheets: [skitariiRangerTrooper, skitariiRangerGunner, skitariiRangerAlpha],\r\n    },\r\n    {\r\n      name: 'Skitarii Vanguards',\r\n      dataSheets: [skitariiVanguardTrooper, skitariiVanguardGunner, skitariiVanguardAlpha],\r\n    },\r\n    {\r\n      name: 'Sicarians',\r\n      dataSheets: [\r\n        sicarianRuststalkerTrooper,\r\n        sicarianRuststalkerPrinceps,\r\n        sicarianInfiltratorTrooper,\r\n        sicarianInfiltratorPrinceps,\r\n      ],\r\n    },\r\n  ],\r\n}\r\n","import { getProfiles, Profile } from '../../helpers'\r\n\r\nexport const neophyteHybridTrooper: Profile = {\r\n  name: 'NEOPHYTE HYBRID (TROOPER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 2,\r\n  defense: 3,\r\n  save: 5,\r\n  saveCritical: 6,\r\n  wounds: 7,\r\n  ballisticSkill: 4,\r\n  weaponSkill: 4,\r\n  weapons: [...getProfiles('Autogun'), ...getProfiles('Shotgun'), ...getProfiles('Gun butt')],\r\n}\r\n\r\nexport const neophyteHybridGunner: Profile = {\r\n  name: 'NEOPHYTE HYBRID (GUNNER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 5,\r\n  saveCritical: 6,\r\n  wounds: 7,\r\n  ballisticSkill: 4,\r\n  weaponSkill: 4,\r\n  weapons: [\r\n    ...getProfiles('Flamer'),\r\n    ...getProfiles('Grenade launcher'),\r\n    ...getProfiles('Webber'),\r\n    ...getProfiles('Gun butt'),\r\n  ],\r\n}\r\n\r\nexport const neophyteHybridHeavyGunner: Profile = {\r\n  name: 'NEOPHYTE HYBRID (HEAVY GUNNER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 5,\r\n  saveCritical: 6,\r\n  wounds: 8,\r\n  ballisticSkill: 4,\r\n  weaponSkill: 4,\r\n  weapons: [\r\n    ...getProfiles('Heavy stubber'),\r\n    ...getProfiles('Mining laser'),\r\n    ...getProfiles('Seismic cannon'),\r\n    ...getProfiles('Gun butt'),\r\n  ],\r\n}\r\n\r\nexport const neophyteHybridIconBearer: Profile = {\r\n  name: 'NEOPHYTE HYBRID (ICON BEARER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 5,\r\n  saveCritical: 6,\r\n  wounds: 7,\r\n  ballisticSkill: 4,\r\n  weaponSkill: 4,\r\n  weapons: [...getProfiles('Autogun'), ...getProfiles('Shotgun'), ...getProfiles('Gun butt')],\r\n}\r\n\r\nexport const neophyteHybridLeader: Profile = {\r\n  name: 'NEOPHYTE HYBRID (LEADER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 5,\r\n  saveCritical: 6,\r\n  wounds: 7,\r\n  ballisticSkill: 3,\r\n  weaponSkill: 3,\r\n  weapons: [\r\n    ...getProfiles('Autogun'),\r\n    ...getProfiles('Shotgun'),\r\n    ...getProfiles('Autopistol'),\r\n    ...getProfiles('Bolt pistol'),\r\n    ...getProfiles('Web pistol'),\r\n    ...getProfiles('Chainsword'),\r\n    ...getProfiles('Gun butt', { weaponBallisticSkillAdjustment: 1 }),\r\n    ...getProfiles('Power maul'),\r\n    ...getProfiles('Power pick'),\r\n  ],\r\n}\r\n\r\nexport const acolyteHybridTrooper: Profile = {\r\n  name: 'NEOPHYTE HYBRID (TROOPER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 5,\r\n  saveCritical: 6,\r\n  wounds: 8,\r\n  ballisticSkill: 4,\r\n  weaponSkill: 3,\r\n  weapons: [...getProfiles('Autopistol'), ...getProfiles('Cult knife and claw')],\r\n}\r\n\r\nexport const acolyteHybridGunner: Profile = {\r\n  name: 'NEOPHYTE HYBRID (GUNNER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 5,\r\n  saveCritical: 6,\r\n  wounds: 8,\r\n  ballisticSkill: 4,\r\n  weaponSkill: 3,\r\n  weapons: [...getProfiles('Hand flamer'), ...getProfiles('Cult knife and claw')],\r\n}\r\n\r\nexport const acolyteHybridFighter: Profile = {\r\n  name: 'NEOPHYTE HYBRID (FIGHTER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 5,\r\n  saveCritical: 6,\r\n  wounds: 8,\r\n  ballisticSkill: 4,\r\n  weaponSkill: 3,\r\n  weapons: [\r\n    ...getProfiles('Autopistol'),\r\n    ...getProfiles('Heavy rock cutter'),\r\n    ...getProfiles('Heavy rock drill'),\r\n    ...getProfiles('Heavy rock saw'),\r\n  ],\r\n}\r\n\r\nexport const acolyteHybridIconBearer: Profile = {\r\n  name: 'NEOPHYTE HYBRID (ICON BEARER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 5,\r\n  saveCritical: 6,\r\n  wounds: 8,\r\n  ballisticSkill: 4,\r\n  weaponSkill: 3,\r\n  weapons: [...getProfiles('Autopistol'), ...getProfiles('Cult knife and claw')],\r\n}\r\n\r\nexport const acolyteHybridLeader: Profile = {\r\n  name: 'NEOPHYTE HYBRID (LEADER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 5,\r\n  saveCritical: 6,\r\n  wounds: 9,\r\n  ballisticSkill: 3,\r\n  weaponSkill: 2,\r\n  weapons: [\r\n    ...getProfiles('Autopistol'),\r\n    ...getProfiles('Hand flamer'),\r\n    ...getProfiles('Lash whip'),\r\n    ...getProfiles('Cult bonesword and claw'),\r\n    ...getProfiles('Cult knife and claw'),\r\n  ],\r\n}\r\n\r\nexport const hybridMetamorphFighter: Profile = {\r\n  name: 'HYBRID METAMORPH (FIGHTER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 5,\r\n  saveCritical: 6,\r\n  wounds: 8,\r\n  ballisticSkill: 4,\r\n  weaponSkill: 3,\r\n  weapons: [...getProfiles('Autopistol'), ...getProfiles('Metamorph mutations')],\r\n}\r\n\r\nexport const hybridMetamorphGunner: Profile = {\r\n  name: 'HYBRID METAMORPH (GUNNER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 5,\r\n  saveCritical: 6,\r\n  wounds: 8,\r\n  ballisticSkill: 4,\r\n  weaponSkill: 3,\r\n  weapons: [...getProfiles('Hand flamer'), ...getProfiles('Metamorph mutations')],\r\n}\r\n\r\nexport const hybridMetamorphIconBearer: Profile = {\r\n  name: 'HYBRID METAMORPH (ICON BEARER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 5,\r\n  saveCritical: 6,\r\n  wounds: 8,\r\n  ballisticSkill: 4,\r\n  weaponSkill: 3,\r\n  weapons: [...getProfiles('Autopistol'), ...getProfiles('Metamorph mutations')],\r\n}\r\n\r\nexport const hybridMetamorphLeader: Profile = {\r\n  name: 'HYBRID METAMORPH (LEADER)',\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 5,\r\n  saveCritical: 6,\r\n  wounds: 9,\r\n  ballisticSkill: 2,\r\n  weaponSkill: 2,\r\n  weapons: [\r\n    ...getProfiles('Autopistol'),\r\n    ...getProfiles('Hand flamer'),\r\n    ...getProfiles('Cult bonesword and metamorph mutations'),\r\n    ...getProfiles('Metamorph mutations'),\r\n  ],\r\n}\r\n\r\nexport const broodCovenStats = {\r\n  name: 'Brood Coven',\r\n  fireTeams: [\r\n    {\r\n      name: 'Neophyte Hybrids',\r\n      dataSheets: [\r\n        neophyteHybridTrooper,\r\n        neophyteHybridGunner,\r\n        neophyteHybridHeavyGunner,\r\n        neophyteHybridIconBearer,\r\n        neophyteHybridLeader,\r\n      ],\r\n    },\r\n    {\r\n      name: 'Acolyte Hybrids',\r\n      dataSheets: [\r\n        acolyteHybridTrooper,\r\n        acolyteHybridGunner,\r\n        acolyteHybridFighter,\r\n        acolyteHybridIconBearer,\r\n        acolyteHybridLeader,\r\n      ],\r\n    },\r\n    {\r\n      name: 'Hybrid Metamorphs',\r\n      dataSheets: [hybridMetamorphFighter, hybridMetamorphGunner, hybridMetamorphIconBearer, hybridMetamorphLeader],\r\n    },\r\n  ],\r\n}\r\n","import './App.css'\r\nimport {\r\n  Paper,\r\n  TableContainer,\r\n  Table,\r\n  TableRow,\r\n  TableCell,\r\n  TableBody,\r\n  TableHead,\r\n  Typography,\r\n  Tabs,\r\n  Tab,\r\n  Box,\r\n} from '@material-ui/core'\r\nimport { Weapon } from './stats/weapons'\r\nimport { adeptusAstartesStats } from './stats/factions/adeptusAstartes'\r\nimport { hereticAstartesStats } from './stats/factions/hereticAstartes'\r\nimport { calculateDamage, calculateMeleeBasics, getAttackerAttackDice } from './calculation'\r\nimport { specialRules } from './rules'\r\nimport React, { FunctionComponent, useState } from 'react'\r\nimport { forgeWorldStats } from './stats/factions/forgeWorld'\r\nimport { broodCovenStats } from './stats/factions/broodCoven'\r\nimport { Profile } from './helpers'\r\n\r\ninterface FireTeam {\r\n  name: string\r\n  dataSheets: any[]\r\n}\r\n\r\ninterface Faction {\r\n  name: string\r\n  fireTeams: FireTeam[]\r\n}\r\n\r\ntype Factions = Faction[]\r\n\r\nconst factions: Factions = [adeptusAstartesStats, hereticAstartesStats, forgeWorldStats, broodCovenStats]\r\n\r\nexport interface Defenseprofile {\r\n  movement: number\r\n  apl: number\r\n  groupActivation: number\r\n  defense: number\r\n  save: number\r\n  saveCritical: number\r\n  wounds: number\r\n  weaponSkill: number\r\n  ballisticSkill: number\r\n  defensiveWeapon: Weapon\r\n}\r\n\r\nconst custodesProfile: Defenseprofile = {\r\n  movement: 6,\r\n  apl: 4,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 2,\r\n  saveCritical: 6,\r\n  wounds: 18,\r\n  weaponSkill: 2,\r\n  ballisticSkill: 2,\r\n  defensiveWeapon: {\r\n    name: 'Guardian spear',\r\n    profile: '',\r\n    attackDice: 5,\r\n    damage: 5,\r\n    damageCritical: 7,\r\n    specialRules: [specialRules.LETHAL5],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n}\r\n\r\nexport const meqProfile: Defenseprofile = {\r\n  movement: 6,\r\n  apl: 3,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 3,\r\n  saveCritical: 6,\r\n  wounds: 14,\r\n  weaponSkill: 3,\r\n  ballisticSkill: 3,\r\n  defensiveWeapon: {\r\n    name: 'Power weapon',\r\n    profile: '',\r\n    attackDice: 5,\r\n    damage: 4,\r\n    damageCritical: 6,\r\n    specialRules: [specialRules.LETHAL5],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n}\r\n\r\nconst geqProfile: Defenseprofile = {\r\n  movement: 6,\r\n  apl: 2,\r\n  groupActivation: 1,\r\n  defense: 3,\r\n  save: 4,\r\n  saveCritical: 6,\r\n  wounds: 8,\r\n  weaponSkill: 4,\r\n  ballisticSkill: 4,\r\n  defensiveWeapon: {\r\n    name: 'Fists',\r\n    profile: '',\r\n    attackDice: 4,\r\n    damage: 3,\r\n    damageCritical: 4,\r\n    specialRules: [],\r\n    criticalRules: [],\r\n    equipment: [],\r\n    type: 'MELEE',\r\n  },\r\n}\r\n\r\nexport interface DamageMelee {\r\n  type: 'melee'\r\n  total: {\r\n    maxDamage: {\r\n      attackerDamage: number\r\n      attackerDead: boolean\r\n      defenderDamage: number\r\n      defenderDead: boolean\r\n    }\r\n    parryDefender: {\r\n      attackerDamage: number\r\n      attackerDead: boolean\r\n      defenderDamage: number\r\n      defenderDead: boolean\r\n    }\r\n    parryAttacker: {\r\n      attackerDamage: number\r\n      attackerDead: boolean\r\n      defenderDamage: number\r\n      defenderDead: boolean\r\n    }\r\n  }\r\n}\r\n\r\nexport interface DamageRanged {\r\n  type: 'ranged'\r\n  total: number\r\n  hit: number\r\n  crit: number\r\n  mw?: number\r\n}\r\n\r\nfunction formatMeleeDamage(damage: DamageMelee) {\r\n  const d = damage.total\r\n  return (\r\n    <>\r\n      <div style={{ display: 'flex', flexWrap: 'wrap' }}>\r\n        <div style={{ display: 'inline-flex', width: '100%' }}>\r\n          <span style={{ flex: 'none', flexBasis: '100px' }}>Max damage: </span>\r\n          <span style={{ flex: 'none', color: 'green', flexBasis: '80px', marginLeft: '10px' }}>\r\n            {d.maxDamage.defenderDamage.toFixed(2)}\r\n            {d.maxDamage.defenderDead && '💀'}\r\n          </span>{' '}\r\n          <span style={{ flex: 'none', color: 'red', flexBasis: '80px' }}>\r\n            {d.maxDamage.attackerDamage.toFixed(2)}\r\n            {d.maxDamage.attackerDead && '💀'}\r\n          </span>\r\n        </div>\r\n        <div style={{ display: 'inline-flex', width: '100%' }}>\r\n          <span style={{ flex: 'none', flexBasis: '100px' }}>Def. parry: </span>\r\n          <span style={{ flex: 'none', color: 'green', flexBasis: '80px', marginLeft: '10px' }}>\r\n            {d.parryDefender.defenderDamage.toFixed(2)}\r\n            {d.parryDefender.defenderDead && '💀'}\r\n          </span>{' '}\r\n          <span style={{ flex: 'none', color: 'red', flexBasis: '80px' }}>\r\n            {d.parryDefender.attackerDamage.toFixed(2)}\r\n            {d.parryDefender.attackerDead && '💀'}\r\n          </span>\r\n        </div>\r\n        <div style={{ display: 'inline-flex', width: '100%' }}>\r\n          <span style={{ flex: 'none', flexBasis: '100px' }}>Att. parry: </span>\r\n          <span style={{ flex: 'none', color: 'green', flexBasis: '80px', marginLeft: '10px' }}>\r\n            {d.parryAttacker.defenderDamage.toFixed(2)}\r\n            {d.parryAttacker.defenderDead && '💀'}\r\n          </span>{' '}\r\n          <span style={{ flex: 'none', color: 'red', flexBasis: '80px' }}>\r\n            {d.parryAttacker.attackerDamage.toFixed(2)}\r\n            {d.parryAttacker.attackerDead && '💀'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction generateWeaponRow(\r\n  weapon: Weapon,\r\n  attackProfile: Profile,\r\n  {\r\n    isProfile,\r\n    nextIsProfile,\r\n    backgroundColor = 'transparent',\r\n  }: { isProfile: boolean; nextIsProfile: boolean; backgroundColor: string }\r\n) {\r\n  const geqDamage = calculateDamage(weapon, geqProfile, attackProfile)\r\n  const meqDamage = calculateDamage(weapon, meqProfile, attackProfile)\r\n  const custodesDamage = calculateDamage(weapon, custodesProfile, attackProfile)\r\n\r\n  const styles: { backgroundColor: string; borderBottomWidth?: number } = {\r\n    backgroundColor,\r\n  }\r\n\r\n  if (nextIsProfile) {\r\n    styles.borderBottomWidth = 0\r\n  }\r\n\r\n  const neededSkill = weapon.type === 'MELEE' ? attackProfile.weaponSkill : attackProfile.ballisticSkill\r\n\r\n  const weaponBallisticSkill =\r\n    weapon.fixedWeaponBallisticSkill || neededSkill + (weapon.weaponBallisticSkillAdjustment || 0)\r\n\r\n  const adjustedballisticSkill = Math.max(2, weaponBallisticSkill)\r\n\r\n  return (\r\n    <TableRow key={weapon.name + weapon.profile}>\r\n      <TableCell style={styles}>{isProfile ? '' : weapon.name}</TableCell>\r\n      <TableCell style={styles}>{weapon.profile}</TableCell>\r\n      <TableCell style={styles}>{getAttackerAttackDice(weapon)}</TableCell>\r\n      <TableCell style={styles}>{adjustedballisticSkill}</TableCell>\r\n      <TableCell style={styles}>\r\n        {weapon.damage}/{weapon.damageCritical}\r\n      </TableCell>\r\n      <TableCell style={styles}>{weapon.specialRules.map((rule) => rule.label).join(', ')}</TableCell>\r\n      <TableCell style={styles}>{weapon.criticalRules.map((rule) => rule.label).join(', ')}</TableCell>\r\n      <TableCell style={styles}>\r\n        <strong>{geqDamage.type === 'melee' ? formatMeleeDamage(geqDamage) : geqDamage.total}</strong>\r\n        {/* (hit: {geqDamage.hit}, crit: {geqDamage.crit}, mw: {geqDamage.mw}, data: {JSON.stringify(geqDamage.data)}) */}\r\n      </TableCell>\r\n      <TableCell style={styles}>\r\n        <strong>{meqDamage.type === 'melee' ? formatMeleeDamage(meqDamage) : meqDamage.total}</strong>\r\n        {/* (hit: {meqDamage.hit}, crit: {meqDamage.crit}, mw: {meqDamage.mw}) */}\r\n      </TableCell>\r\n      <TableCell style={styles}>\r\n        <strong>{custodesDamage.type === 'melee' ? formatMeleeDamage(custodesDamage) : custodesDamage.total}</strong>\r\n        {/* (hit: {custodesDamage.hit}, crit: {custodesDamage.crit}, mw: {custodesDamage.mw}) */}\r\n      </TableCell>\r\n    </TableRow>\r\n  )\r\n}\r\n\r\nfunction generateStatBlock(profile: Profile) {\r\n  let rowColor = 'rgba(1,1,1,0.1)'\r\n\r\n  function switchRowColor() {\r\n    if (rowColor === 'rgba(1,1,1,0.1)') {\r\n      rowColor = 'transparent'\r\n    } else {\r\n      rowColor = 'rgba(1,1,1,0.1)'\r\n    }\r\n  }\r\n\r\n  const rangedWeapons = profile.weapons.filter((weapon) => weapon.type === 'RANGED')\r\n  const meleeWeapons = profile.weapons.filter((weapon) => weapon.type === 'MELEE')\r\n\r\n  return (\r\n    <TableContainer component={Paper} style={{ margin: '20px' }} key={profile.name}>\r\n      <Table size=\"small\">\r\n        <TableHead>\r\n          <TableRow style={{ backgroundColor: 'rgba(1,1,1,0.3)' }}>\r\n            <TableCell colSpan={10}>\r\n              <Typography variant=\"h5\" fontWeight=\"700\">\r\n                {profile.name}\r\n              </Typography>\r\n            </TableCell>\r\n          </TableRow>\r\n          {rangedWeapons.length > 0 && (\r\n            <TableRow>\r\n              <TableCell>Name</TableCell>\r\n              <TableCell>Profile</TableCell>\r\n              <TableCell>A</TableCell>\r\n              <TableCell>BS</TableCell>\r\n              <TableCell>D</TableCell>\r\n              <TableCell>SR</TableCell>\r\n              <TableCell>!</TableCell>\r\n              <TableCell>Avg Dmg vs GEQ</TableCell>\r\n              <TableCell>Avg Dmg vs MEQ</TableCell>\r\n              <TableCell>Avg Dmg vs Custodes</TableCell>\r\n            </TableRow>\r\n          )}\r\n        </TableHead>\r\n        <TableBody>\r\n          {rangedWeapons.map((weapon, index) => {\r\n            const sameNameAsPrevious = index === 0 ? false : weapon.name === rangedWeapons[index - 1]?.name\r\n            const sameNameAsNext = weapon.name === rangedWeapons[index + 1]?.name\r\n\r\n            if (!sameNameAsPrevious) {\r\n              switchRowColor()\r\n            }\r\n\r\n            return generateWeaponRow(weapon, profile, {\r\n              isProfile: sameNameAsPrevious,\r\n              nextIsProfile: sameNameAsNext,\r\n              backgroundColor: rowColor,\r\n            })\r\n          })}\r\n        </TableBody>\r\n        {meleeWeapons.length > 0 && (\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Name</TableCell>\r\n              <TableCell>Profile</TableCell>\r\n              <TableCell>A</TableCell>\r\n              <TableCell>WS</TableCell>\r\n              <TableCell>D</TableCell>\r\n              <TableCell>SR</TableCell>\r\n              <TableCell>!</TableCell>\r\n              <TableCell>\r\n                Avg Dmg vs GEQ w/ Fists\r\n                <br />\r\n                <div style={{ display: 'inline-flex', width: '100%' }}>\r\n                  <span style={{ flex: 'none', flexBasis: '100px' }}>strategy</span>\r\n                  <span style={{ flex: 'none', color: 'green', flexBasis: '80px', marginLeft: '10px' }}>\r\n                    dmg done\r\n                  </span>{' '}\r\n                  <span style={{ flex: 'none', color: 'red', flexBasis: '80px' }}>dmg taken</span>\r\n                </div>\r\n              </TableCell>\r\n              <TableCell>\r\n                Avg Dmg vs MEQ w/ Power Weapon\r\n                <br />\r\n                <div style={{ display: 'inline-flex', width: '100%' }}>\r\n                  <span style={{ flex: 'none', flexBasis: '100px' }}>strategy</span>\r\n                  <span style={{ flex: 'none', color: 'green', flexBasis: '80px', marginLeft: '10px' }}>\r\n                    dmg done\r\n                  </span>{' '}\r\n                  <span style={{ flex: 'none', color: 'red', flexBasis: '80px' }}>dmg taken</span>\r\n                </div>\r\n              </TableCell>\r\n              <TableCell>\r\n                Avg Dmg vs CEQ w/ Guardian Spear\r\n                <br />\r\n                <div style={{ display: 'inline-flex', width: '100%' }}>\r\n                  <span style={{ flex: 'none', flexBasis: '100px' }}>strategy</span>\r\n                  <span style={{ flex: 'none', color: 'green', flexBasis: '80px', marginLeft: '10px' }}>\r\n                    dmg done\r\n                  </span>{' '}\r\n                  <span style={{ flex: 'none', color: 'red', flexBasis: '80px' }}>dmg taken</span>\r\n                </div>\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n        )}\r\n        <TableBody>\r\n          {meleeWeapons.map((weapon, index) => {\r\n            const sameNameAsPrevious = index === 0 ? false : weapon.name === meleeWeapons[index - 1]?.name\r\n            const sameNameAsNext = weapon.name === meleeWeapons[index + 1]?.name\r\n\r\n            if (!sameNameAsPrevious) {\r\n              switchRowColor()\r\n            }\r\n\r\n            return generateWeaponRow(weapon, profile, {\r\n              isProfile: sameNameAsPrevious,\r\n              nextIsProfile: sameNameAsNext,\r\n              backgroundColor: rowColor,\r\n            })\r\n          })}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  )\r\n}\r\n\r\ninterface TabPanelProps {\r\n  index: number\r\n  value: number\r\n}\r\n\r\nconst TabPanel: FunctionComponent<TabPanelProps> = (props) => {\r\n  const { children, value, index, ...other } = props\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box p={3}>{children}</Box>}\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction App() {\r\n  const [value, setValue] = useState(0)\r\n  const [lvl2Value, setLvl2Value] = useState(0)\r\n\r\n  const handleChange = (event: any, newValue: any) => {\r\n    setValue(newValue)\r\n  }\r\n\r\n  const handleChangeLvl2 = (event: any, newValue: any) => {\r\n    setLvl2Value(newValue)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n        <Tabs value={value} onChange={handleChange}>\r\n          {factions.map((faction) => (\r\n            <Tab label={faction.name} />\r\n          ))}\r\n        </Tabs>\r\n      </Box>\r\n      {factions.map((faction, index) => (\r\n        <>\r\n          <TabPanel index={index} value={value}>\r\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n              <Tabs value={lvl2Value} onChange={handleChangeLvl2}>\r\n                {faction.fireTeams.map((fireTeam) => (\r\n                  <Tab label={fireTeam.name} />\r\n                ))}\r\n              </Tabs>\r\n            </Box>\r\n            {factions[index].fireTeams.map((fireTeam, fireTeamIndex) => (\r\n              <TabPanel index={fireTeamIndex} value={lvl2Value}>\r\n                {fireTeam.dataSheets.map((dataSheet) => generateStatBlock(dataSheet))}\r\n              </TabPanel>\r\n            ))}\r\n          </TabPanel>\r\n        </>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n\r\n// {\r\n//   dataSheets.map((profile) => generateStatBlock(profile.name, profile.weaponSkill, profile.weapons))\r\n// }\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport reportWebVitals from './reportWebVitals'\r\nimport '@fontsource/roboto/300.css'\r\nimport '@fontsource/roboto/400.css'\r\nimport '@fontsource/roboto/500.css'\r\nimport '@fontsource/roboto/700.css'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}